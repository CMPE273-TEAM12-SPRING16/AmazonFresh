<!DOCTYPE html>

<html>

<head>
  <link href="css/_style.css" rel="stylesheet">
  <link href="css/bootstrap.css" rel="stylesheet">

  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
  <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
  <![endif]-->

  <!--Angular js scripts-->
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-route.js"></script>

  <script src="angularjs/adminAngular.js" type="text/javascript"></script>

  <script type="text/javascript" src="js/charts/fusioncharts.js"></script>
  <script type="text/javascript" src="angularjs/charts/angular-fusioncharts.min.js"></script>


  <link rel="shortcut icon" href="images/support_images/icons/favicon.ico" type="image/vnd.microsoft.icon">
  <link rel="icon" href="images/support_images/icons/favicon.ico" type="image/vnd.microsoft.icon">
  <title>Home | Admin</title>

</head>

<body ng-app="adminNgApp" ng-controller="AdminPageCtrl" ng-cloak>
  <div class="container-fluid nopadding">
    <% include ./partial/headerAdmin %>
    <div class="container-fluid container-main">
      <div class="row row-margin">
        <div class="col-md-12">
          <div class="row">
            <ul class="nav navbar-nav">
              <div class="col-md-3">
              </div>
              <div class="col-md-8">
                <li>
                  <div class="input-group">
                    <span class="input-group-addon fa-serch-btn">
                      <a  class="dropdown-toggle" data-toggle="dropdown" style="color: #FFFFFF; text-decoration: none;">
                        <i class="fa fa-search">
                          Search Produces by {{searchType}}<span class="caret caret-btn-search"></span>
                        </i>
                      </a>
                        <ul class="dropdown-menu">
                          <li><a href="#" ng-click="searchType = 'Customer Name'">Search Customers</a></li>
                          <li><a href="#" ng-click="searchType = 'Farmer Name'">Search Farmers</a></li>
                          <li><a href="#" ng-click="searchType = 'Product Name'">Search Products</a></li>
                          <li><a href="#" ng-click="searchType = 'Bill ID'">Search Bills</a></li>
                        </ul>

                    </span>
                    <input type="text" class="form-control" placeholder="Type {{searchType}} here..." ng-model="searchString"/>
                      <span class="input-group-addon fa-serch-btn">
                        <a ng-click="doSearch()" style="color: #FFFFFF; text-decoration: none;"><i class="fa fa-search">Go</i></a>
                      </span>
                  </div>
                </li>
              </div>
            </ul>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-2"></div>
      </div>

      <div class="row">
        <div class="col-md-3">
          <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
            <div class="panel panel-default">
              <div class="panel-heading" role="tab" id="headingOne">
              <h4 class="panel-title collapse-nav">
                <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                  Approvals <span class="badge pull-right">4</span>
                </a>
              </h4>
              </div>
              <div id="collapseOne" class="panel-collapse collapse in" role="tabpanel" aria-labelledby="headingOne">
                <div class="panel-body collapse-body">
                  <ul class="nav nav-pills nav-stacked">
                    <li ng-class="activeCustomer" ng-click="activateMe(1)">
                      <a href="#/apprReqCustomer">Approve Customer<span class="badge pull-right">2</span></a>
                    </li>
                    <li ng-class="activeFarmer" ng-click="activateMe(2)">
                      <a href="#/apprReqFarmer">Approve Farmer<span class="badge pull-right">1</span></a>
                    </li>
                    <li ng-class="activeProduct" ng-click="activateMe(3)">
                      <a href="#/apprReqProduct">Approve Product<span class="badge pull-right">1</span></a>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
            <div class="panel panel-default">
              <div class="panel-heading" role="tab" id="headingTwo">
                <h4 class="panel-title collapse-nav">
                  <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                    Review<span class="badge pull-right"><strong class="caret"></strong></span></a>
                  </a>
                </h4>
              </div>
              <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
                <div class="panel-body">
                  <ul class="nav nav-pills nav-stacked">
                     <li ng-class="activeRevCustomer" ng-click="activateMe(4)">
                      <a href="#/reviewCust">Customers<span class="badge pull-right">2</span></a>
                    </li>
                    <li ng-class="activeRevFarmer" ng-click="activateMe(5)">
                      <a href="#/reviewFarmer">Farmers<span class="badge pull-right">1</span></a>
                    </li>
                    <li ng-class="activeRevProduct" ng-click="activateMe(6)">
                      <a href="#/reviewProduct">Products<span class="badge pull-right">1</span></a>
                    </li>
                  </ul>
                </div>
              </div>
            </div>

            <div class="panel panel-default">
              <div class="panel-heading" role="tab" id="headingThree">
                <h4 class="panel-title collapse-nav">
                  <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                    Statistics<span class="badge pull-right"><strong class="caret"></strong></span></a>
                  </a>
                </h4>
              </div>
              <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
                <div class="panel-body">
                  <ul class="nav nav-pills nav-stacked">
                    <li ng-class="activeDailyRevenue" ng-click="activateMe(7)">
                      <a href="#/dailyRevenue" >Daily Revenue</a>
                    </li>
                    <li ng-class="activeShowDeliveries" ng-click="activateMe(8)">
                      <a href="#">Deliveries</a>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
            <div class="panel panel-default">
              <div class="panel-heading" role="tab" id="headingThree">
                <h4 class="panel-title collapse-nav">
                  <a class="collapsed" role="button" href="#/showBills">
                    Bills<span class="badge pull-right">543</span></a>
                  </a>
                </h4>
              </div>
            </div>

            <div class="panel panel-default">
              <div class="panel-heading" role="tab" id="headingThree">
                <h5 class="panel-title collapse-nav">
                  <a href="/adminSignUp" class="collapsed" role="button">Create Admin Account</a>
                </h5>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-8">


          <div ng-view class="thumbnail thumbnail-signup" ng-hide="isSearch">

          </div>

          <!-- 16:9 aspect ratio -->
          <div ng-show="showDeliveries" class="embed-responsive embed-responsive-16by9">
            <iframe class="thumbnail thumbnail-signup" src="/showMap"></iframe>
          </div>

          <div class="thumbnail thumbnail-signup" ng-show="isSearch1"> <!-- add customer notifications -->
            <span class="admin-page-title">Search Results:</span><span class="admin-page-title-cat"> {{searchType}}</span>
            <div class="thumbnail"  ng-repeat = "customer in searchResults">
              <div class="row row-margin-none">
                <div class="col-md-10">
                  <div class="row">
                    <div class="col-md-2 approve-col-1">
                      <h5>Name <span class="pull-right">:</span></h5>
                    </div>
                    <div class="col-md-6">
                      <span>{{customer.FIRST_NAME}} {{customer.LAST_NAME}}</span>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-2 approve-col-1">
                      <h5>Email Id <span class="pull-right">:</span></h5>
                    </div>
                    <div class="col-md-6">
                      <span>{{customer.EMAIL_ID}}</span>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-2 approve-col-1">
                      <h5>Address <span class="pull-right">:</span></h5>
                    </div>
                    <div class="col-md-6 address-line">
                      <p>{{customer.ADDRESS}}</p>
                      <p>Apt 332</p>
                      <p>San Jose, CA 95112</p>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-2 approve-col-1">
                      <h5>Phone <span class="pull-right">:</span></h5>
                    </div>
                    <div class="col-md-6">
                      <span>{{customer.PHONE_NUMBER}}</span>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-2 approve-col-1">
                      <h5>SSN <span class="pull-right">:</span></h5>
                    </div>
                    <div class="col-md-6  ">
                      <span>XX-XX-XXX</span>
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-md-2 approve-col-1">
                      <h5>Credit Card <span class="pull-right">:</span></h5>
                    </div>
                    <div class="col-md-6  ">
                      <span class="glyphicon glyphicon-ok" aria-hidden="true"></span>
                      <span>XXXX-XXXX-XXXX-XXXX (Validated)</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>

              <div class="thumbnail thumbnail-no-result" ng-show="noSearchResult">
                Nothing found.
              </div>

          </div><!-- FINISHED add customer notification -->

          <div class="thumbnail thumbnail-signup" ng-show="isSearch2"> <!-- Add product notofications -->
            <span class="admin-page-title">Search Results:</span><span class="admin-page-title-cat"> {{searchType}}</span>
              <div class="thumbnail" ng-repeat = "product in searchResults">
                <div class="row row-margin-none">
                <div class="col-md-2">
                  <div>
                  <img src="../uploads/{{product.FILE_NAME}}"/>
                  </div>
                </div>
                <div class="col-md-8">
                  <h2 class="product-page-product-name">
                   {{product.PRODUCT_NAME}}
                  </h2>
                  <div class="product-page-ratings-img">
                      <img src="images/support_images/0-stars.png"/>
                    (0)
                  </div>
                  <div class="product-page-price">
                    <span class="price">${{product.PRICE}}</span>
                    <span class="unit-price">({{product.UNIT}})</span>
                  </div>
                  <div class="row row-margin">
                    <div class="col-md-12">
                        <h3>Product Description</h2>
                        <p>{{product.PRODUCT_DESCRIPTION}}</p>
                    </div>
                  </div>
                </div>
                <div class="col-md-2">
                  <div class="row">
                    <button class="btn btn-success btn-xs btn-theme btn-theme-narrow pull-right" ng-click="approveProduct(product._id)">
                      <span class="pull-left">Approve</span>
                      <span class="badge pull-right">
                        <span class="glyphicon glyphicon-ok" aria-hidden="true">
                        </span>
                      </span>
                    </button>
                  </div>
                  <div class="row">
                    <button class="btn btn-danger btn-xs btn-theme btn-theme-narrow pull-right" ng-click="rejectProduct(product._id)">
                      <span class="pull-left">Reject</span>
                      <span class="badge pull-right">
                        <span class="glyphicon glyphicon-remove" aria-hidden="true">
                        </span>
                      </span>
                    </button>
                  </div>
                </div>
              </div>
              </div>

              <div class="thumbnail thumbnail-no-result" ng-show="noSearchResult">
                  Nothing found.
              </div>

            </div> <!-- FINISHED Add product notofications -->

            <div class="thumbnail thumbnail-signup" ng-show="isSearch3"> <!-- Add product notofications -->
              <span class="admin-page-title">Search Results:</span><span class="admin-page-title-cat"> {{searchType}}</span>
              <div class="thumbnail" ng-repeat="bill in searchResults">
                <div class="row row-margin-none order-header">
                  <div class="col-md-3">
                    <h6>Order placed on</h6>
                    <span>{{bill.BILLING_DATE}}</span>
                  </div>
                  <div class="col-md-3">
                    <h6>TOTAL PRICE</h6>
                    <span>{{bill.TOTAL_AMOUNT | currency}}</span>
                  </div>
                  <div class="col-md-3">
                    <h6>Delivered To</h6>
                    <span>{{bill.CUSTOMER_NAME}}</span>
                  </div>
                  <div class="col-md-3">
                    <h6>BILL ID # {{bill.BILL_ID}}</h6>

                  </div>
                </div>
                <div class="row row-margin-none" style="padding-top : 5px;">
                  <div class="col-md-12">
                    <div class="col-md-6">
                    <div class="row">
                      <div class="col-md-3 approve-col-1">
                        <h5>Address <span class="pull-right">:</span></h5>
                      </div>
                      <div class="col-md-9 address-line">
                        <p>{{bill.ADDRESS}}</p>
                        <p>{{bill.CITY}}, {{bill.STATE}} {{bill.ZIP}}</p>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-3 approve-col-1">
                        <h5>Phone <span class="pull-right">:</span></h5>
                      </div>
                      <div class="col-md-9">
                        <span>{{bill.PHONE}}</span>
                      </div>
                    </div>
                  </div>

                  <div class="col-md-6">
                    <h3>Items ordered :</h3>
                    <div class="row">
                      <div class="col-md-2"></div>
                      <div class="col-md-10">
                        <div class="thumbnail bill-cart" ng-repeat="product in bill.PRODUCTS"> <!-- This will have ng-repeat. Remove the hardcoded items -->
                          <div class="row">
                            <div class="bill-cart-item-pad">
                              <div class="media">
                                <a href="#" class="pull-left"><img alt="" src="../uploads/{{product.FILE_NAME}}" class="media-object bill-item-img"></a>
                                <div class="media-body">
                                  <a href="/products/{{product.PRODUCT_ID}}" class="bill-cart-item-name ng-binding">{{product.PRODUCT_NAME}}</a>
                                  <h6>
                                    <span class="bill-cart-item-price ng-binding">{{product.PRICE | currency}}</span>
                                  </h6>
                                  <h6>
                                    <span class="bill-cart-item-price ng-binding">Qty : {{product.QTY}}</span>
                                  </h6>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  </div>
                </div>
              </div>

                <div class="thumbnail thumbnail-no-result" ng-show="noSearchResult">
                    Nothing found.
                </div>

              </div> <!-- FINISHED Add product notofications -->

        </div>
      </div>
    </div>
  </div>


  <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
  <!-- Include all compiled plugins (below), or include individual files as needed -->
  <script src="js/bootstrap.min.js" type="text/javascript"></script>
</body>
</html>
